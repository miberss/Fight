
local function attack_handler(ctx: CombatContext struct) -> boolean:
    return false if {_ctx}->attacker's fall distance > 1
    add 1 to {_ctx}->attack_width
    add 3 to {_ctx}->range
    shoot_ray({_ctx})

    set {_ctx}->attacker's velocity to vector in {_ctx}->attacker's direction
    return whether {_ctx}->victim is set
