function load_commands():
	set {-commands::*} to keyed set(all script commands)

on send command list:
	set command list to all script commands

on command:
	if all:
		sender is not console
		{-commands::%command label%} is not set
	then:
		broadcast command label
		cancel event

on unknown command:
	set component unknown command message to c("")